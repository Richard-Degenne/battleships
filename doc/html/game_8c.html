<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Battleships: client/game.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Battleships.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Battleships
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">A networked Battleship game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('game_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">game.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains functions for the game mechanism itself.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="game_8h_source.html">game.h</a>&quot;</code><br/>
</div>
<p><a href="game_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71b0f9a8cf8a9ed7d13ef8b0434835c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a71b0f9a8cf8a9ed7d13ef8b0434835c2">setup_fleet</a> (<a class="el" href="structboat.html">boat</a> fleet_p[])</td></tr>
<tr class="memdesc:a71b0f9a8cf8a9ed7d13ef8b0434835c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the fleet up.  <a href="#a71b0f9a8cf8a9ed7d13ef8b0434835c2">More...</a><br/></td></tr>
<tr class="separator:a71b0f9a8cf8a9ed7d13ef8b0434835c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9887b970f5f86b097b88e496b12f80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a5c9887b970f5f86b097b88e496b12f80">select_boat_coord</a> (<a class="el" href="structboat.html">boat</a> *boat_p, <a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> grid_p)</td></tr>
<tr class="memdesc:a5c9887b970f5f86b097b88e496b12f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts user for a boat's coordinates and applies it to a boat.  <a href="#a5c9887b970f5f86b097b88e496b12f80">More...</a><br/></td></tr>
<tr class="separator:a5c9887b970f5f86b097b88e496b12f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa3e4197764c5a5b94c5d5e120f8986"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#afaa3e4197764c5a5b94c5d5e120f8986">reset_grid</a> (<a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> grid_p)</td></tr>
<tr class="memdesc:afaa3e4197764c5a5b94c5d5e120f8986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets a grid.  <a href="#afaa3e4197764c5a5b94c5d5e120f8986">More...</a><br/></td></tr>
<tr class="separator:afaa3e4197764c5a5b94c5d5e120f8986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45172851820db0b66e0e3d4b3178461"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#ac45172851820db0b66e0e3d4b3178461">place_boat</a> (<a class="el" href="structboat.html">boat</a> *boat_p, <a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> grid_p)</td></tr>
<tr class="memdesc:ac45172851820db0b66e0e3d4b3178461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Places a boat on a grid.  <a href="#ac45172851820db0b66e0e3d4b3178461">More...</a><br/></td></tr>
<tr class="separator:ac45172851820db0b66e0e3d4b3178461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddcc14ffad68b2af57afdd652991ddd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a0ddcc14ffad68b2af57afdd652991ddd">print_grid</a> (<a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> grid_p)</td></tr>
<tr class="memdesc:a0ddcc14ffad68b2af57afdd652991ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a grid.  <a href="#a0ddcc14ffad68b2af57afdd652991ddd">More...</a><br/></td></tr>
<tr class="separator:a0ddcc14ffad68b2af57afdd652991ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e70e37a3dad5741e8579ded8415f486"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a7e70e37a3dad5741e8579ded8415f486">send_boat</a> (<a class="el" href="structboat.html">boat</a> *boat_p, int id)</td></tr>
<tr class="memdesc:a7e70e37a3dad5741e8579ded8415f486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a boat's information through a socket.  <a href="#a7e70e37a3dad5741e8579ded8415f486">More...</a><br/></td></tr>
<tr class="separator:a7e70e37a3dad5741e8579ded8415f486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc43016e52a185ebae3f43f4b30b2ded"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcoord.html">coord</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#afc43016e52a185ebae3f43f4b30b2ded">select_fire_coord</a> (<a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> grid_p)</td></tr>
<tr class="memdesc:afc43016e52a185ebae3f43f4b30b2ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user for a coordinate to fire upon.  <a href="#afc43016e52a185ebae3f43f4b30b2ded">More...</a><br/></td></tr>
<tr class="separator:afc43016e52a185ebae3f43f4b30b2ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229ee96e5e2d93b2cc2839056ade092f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a229ee96e5e2d93b2cc2839056ade092f">check_fire</a> (<a class="el" href="structcoord.html">coord</a> fire, <a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> target, <a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> display)</td></tr>
<tr class="memdesc:a229ee96e5e2d93b2cc2839056ade092f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the result of a shot.  <a href="#a229ee96e5e2d93b2cc2839056ade092f">More...</a><br/></td></tr>
<tr class="separator:a229ee96e5e2d93b2cc2839056ade092f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4052aea4f164e074aaf668b8017828fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcoord.html">coord</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a4052aea4f164e074aaf668b8017828fc">wait_fire</a> ()</td></tr>
<tr class="memdesc:a4052aea4f164e074aaf668b8017828fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the other player to fire.  <a href="#a4052aea4f164e074aaf668b8017828fc">More...</a><br/></td></tr>
<tr class="separator:a4052aea4f164e074aaf668b8017828fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c18b22172292a28ede5c1dc38a509a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a0c18b22172292a28ede5c1dc38a509a7">receive_fire</a> (<a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> target)</td></tr>
<tr class="memdesc:a0c18b22172292a28ede5c1dc38a509a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits fot the host to send a report for a previous shot.  <a href="#a0c18b22172292a28ede5c1dc38a509a7">More...</a><br/></td></tr>
<tr class="separator:a0c18b22172292a28ede5c1dc38a509a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4dba0974dae715765dee95248d7dcc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#af4dba0974dae715765dee95248d7dcc4">send_fire</a> (<a class="el" href="structcoord.html">coord</a> coord_p)</td></tr>
<tr class="memdesc:af4dba0974dae715765dee95248d7dcc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a fire.  <a href="#af4dba0974dae715765dee95248d7dcc4">More...</a><br/></td></tr>
<tr class="separator:af4dba0974dae715765dee95248d7dcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fede2a0568c95b96bb7df7cf422980"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a14fede2a0568c95b96bb7df7cf422980">check_win</a> (<a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> target, <a class="el" href="structboat.html">boat</a> *fleet)</td></tr>
<tr class="memdesc:a14fede2a0568c95b96bb7df7cf422980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a player has won.  <a href="#a14fede2a0568c95b96bb7df7cf422980">More...</a><br/></td></tr>
<tr class="separator:a14fede2a0568c95b96bb7df7cf422980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c4fcafca5f3f875810875579a6187d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a37c4fcafca5f3f875810875579a6187d">send_win</a> (int mode)</td></tr>
<tr class="memdesc:a37c4fcafca5f3f875810875579a6187d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the other player he has won or lost.  <a href="#a37c4fcafca5f3f875810875579a6187d">More...</a><br/></td></tr>
<tr class="separator:a37c4fcafca5f3f875810875579a6187d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68ba5923de35f79d5b4ce23b4398938"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#ae68ba5923de35f79d5b4ce23b4398938">select_char_coord</a> ()</td></tr>
<tr class="memdesc:ae68ba5923de35f79d5b4ce23b4398938"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user for a coordinate parsing the character as a letter.  <a href="#ae68ba5923de35f79d5b4ce23b4398938">More...</a><br/></td></tr>
<tr class="separator:ae68ba5923de35f79d5b4ce23b4398938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b738323496d826d76238705ee2b1aef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a5b738323496d826d76238705ee2b1aef">select_int_coord</a> ()</td></tr>
<tr class="memdesc:a5b738323496d826d76238705ee2b1aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user for a coordinate parsing the character as a number.  <a href="#a5b738323496d826d76238705ee2b1aef">More...</a><br/></td></tr>
<tr class="separator:a5b738323496d826d76238705ee2b1aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac116554b543b7c4228c018a85882f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adac116554b543b7c4228c018a85882f5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#adac116554b543b7c4228c018a85882f5">flush</a> ()</td></tr>
<tr class="memdesc:adac116554b543b7c4228c018a85882f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes <code>stdin</code>. <br/></td></tr>
<tr class="separator:adac116554b543b7c4228c018a85882f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8af32ddf685b7d0f7a339e77293182"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a1b8af32ddf685b7d0f7a339e77293182">sunk</a> (char id, <a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a> target)</td></tr>
<tr class="memdesc:a1b8af32ddf685b7d0f7a339e77293182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a boat has been sunk.  <a href="#a1b8af32ddf685b7d0f7a339e77293182">More...</a><br/></td></tr>
<tr class="separator:a1b8af32ddf685b7d0f7a339e77293182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7ca4dc50eee794fb56d8a5baff8c65"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a3a7ca4dc50eee794fb56d8a5baff8c65">receive_boat</a> (void *arg)</td></tr>
<tr class="memdesc:a3a7ca4dc50eee794fb56d8a5baff8c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the opponent to send their boats and place them into a grid.  <a href="#a3a7ca4dc50eee794fb56d8a5baff8c65">More...</a><br/></td></tr>
<tr class="separator:a3a7ca4dc50eee794fb56d8a5baff8c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af6e5ac0c98235f3942554b438a069736"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6e5ac0c98235f3942554b438a069736"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#af6e5ac0c98235f3942554b438a069736">sfd</a></td></tr>
<tr class="memdesc:af6e5ac0c98235f3942554b438a069736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dialog socket file descriptor between players. <br/></td></tr>
<tr class="separator:af6e5ac0c98235f3942554b438a069736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113e66b0dfc28da844762fa7a29d24ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a113e66b0dfc28da844762fa7a29d24ac"></a>
<a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8c.html#a113e66b0dfc28da844762fa7a29d24ac">opponent</a></td></tr>
<tr class="memdesc:a113e66b0dfc28da844762fa7a29d24ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opponent grid for the host. <br/></td></tr>
<tr class="separator:a113e66b0dfc28da844762fa7a29d24ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains functions for the game mechanism itself. </p>
<dl class="section author"><dt>Author</dt><dd>Richard Degenne </dd></dl>
<dl class="section date"><dt>Date</dt><dd>12-06-14 </dd></dl>

<p>Definition in file <a class="el" href="game_8c_source.html">game.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a229ee96e5e2d93b2cc2839056ade092f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_fire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoord.html">coord</a>&#160;</td>
          <td class="paramname"><em>fire</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>display</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the result of a shot. </p>
<p>Checks whether the shot does not land on an empty square on <code>target</code>, and whether if it sinks a boat. Updates <code>display</code> accordingly, prints out a log, and sends a report to the other player. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fire</td><td>Coordinate of the shot </td></tr>
    <tr><td class="paramname">target</td><td>The grid on which to fire </td></tr>
    <tr><td class="paramname">display</td><td>The grid on which to update the display. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00196">196</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a14fede2a0568c95b96bb7df7cf422980"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_win </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structboat.html">boat</a> *&#160;</td>
          <td class="paramname"><em>fleet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a player has won. </p>
<p>Look up for every boat in <code>fleet</code>. If none is found, the fleet has entirely been sunk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The grid to check </td></tr>
    <tr><td class="paramname">fleet</td><td>Boats to look up </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the entire fleet has been sunk, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00292">292</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac45172851820db0b66e0e3d4b3178461"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void place_boat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboat.html">boat</a> *&#160;</td>
          <td class="paramname"><em>boat_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>grid_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Places a boat on a grid. </p>
<p>Sets every square covered by the boat with its id number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boat_p</td><td>The boat to place </td></tr>
    <tr><td class="paramname">grid_p</td><td>The grid to place the boat on </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00134">134</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0ddcc14ffad68b2af57afdd652991ddd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_grid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>grid_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a grid. </p>
<p>Prints the grid in a pretty way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grid_p</td><td>The grid to print </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Please note that the heading row and column will not follow any changes on X_SIZE and Y_SIZE. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="game_8h.html#aa3357dacd5fdcf74fdebec08ddd03d5c" title="The grid&#39;s x-size (A..J) ">X_SIZE</a> </dd>
<dd>
<a class="el" href="game_8h.html#a6cc154183c54e88a5bd4bd4039d01808" title="The grid&#39;s y-size (0..9) ">Y_SIZE</a> </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00158">158</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3a7ca4dc50eee794fb56d8a5baff8c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* receive_boat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for the opponent to send their boats and place them into a grid. </p>
<p>This is a thread routine so the joining player can asynchronously send their boats to the host. Received boats are placed in <code>opponent</code>, a global grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Dummy argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL, dummy return value. </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00374">374</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0c18b22172292a28ede5c1dc38a509a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int receive_fire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits fot the host to send a report for a previous shot. </p>
<p>Reports can be send in 1, 2 or 3 requests. An <code>OK</code> acknowledgement is sent after each. Udpates <code>target</code> accordingly and prints out a log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The grid to update </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the game is over, 0 otherwise </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00245">245</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="afaa3e4197764c5a5b94c5d5e120f8986"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_grid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>grid_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets a grid. </p>
<p>Sets every square of the grid to EMPTY_SQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grid_p</td><td>The grid to reset </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00124">124</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5c9887b970f5f86b097b88e496b12f80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void select_boat_coord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboat.html">boat</a> *&#160;</td>
          <td class="paramname"><em>boat_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>grid_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts user for a boat's coordinates and applies it to a boat. </p>
<p>The user will first be prompted for the boat's starting x-coordinate. If their input is consistent, they will be prompted for the starting y-coordinate. If a boat is already present on the square, the user will be prompted for new coordinates. Else, this function will compute the available end coordinates (available here means that the boat doesn't go over the grid's limits and doesn't cross another boat). The user will finally be prompted to select one of the available end coordinate. Upon selection, the boat end coordinate is set accordingly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boat_p</td><td>The boat to prompt the user for. </td></tr>
    <tr><td class="paramname">grid_p</td><td>The grid to use for collision detection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00033">33</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae68ba5923de35f79d5b4ce23b4398938"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int select_char_coord </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user for a coordinate parsing the character as a letter. </p>
<p>Prompts the user for a character between A or J. Case insensitive. Loops if the input is inconsistent. </p>
<dl class="section return"><dt>Returns</dt><dd>0 for (A,a), 1 for (B,b)... 9 for (J,j) </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00327">327</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="afc43016e52a185ebae3f43f4b30b2ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcoord.html">coord</a> select_fire_coord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>grid_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user for a coordinate to fire upon. </p>
<p>The user will be prompted again until the selected coordinates is an empty square. This way, he/she won't fire twice upon the same square. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grid_p</td><td>The grid to check the selected coordinate's relevance on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first consistent selected coordinate </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00186">186</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5b738323496d826d76238705ee2b1aef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int select_int_coord </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user for a coordinate parsing the character as a number. </p>
<p>Prompts the user for a character between '0' or '9'. Loops if the input is inconsistent. </p>
<dl class="section return"><dt>Returns</dt><dd>The integer value matching the character given in input. </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00340">340</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7e70e37a3dad5741e8579ded8415f486"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_boat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboat.html">boat</a> *&#160;</td>
          <td class="paramname"><em>boat_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a boat's information through a socket. </p>
<p>For the joining player, sets up and sends a request to the host to tell the boat's position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boat_p</td><td>The boat which infos are to be sent </td></tr>
    <tr><td class="paramname">id</td><td>The boat's id. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00171">171</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="af4dba0974dae715765dee95248d7dcc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_fire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoord.html">coord</a>&#160;</td>
          <td class="paramname"><em>coord_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a fire. </p>
<p>Sets up a <code>FIRE</code> request and sends it to the host player. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">coord_p</td><td>The shot's coordinates </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00280">280</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a37c4fcafca5f3f875810875579a6187d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_win </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the other player he has won or lost. </p>
<p>Sets up a <code>WIN</code> or <code>LOSE</code> and sets it to the other player. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>0 for <code>LOSE</code>, any other value for <code>WIN</code>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00314">314</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a71b0f9a8cf8a9ed7d13ef8b0434835c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_fleet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboat.html">boat</a>&#160;</td>
          <td class="paramname"><em>fleet_p</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the fleet up. </p>
<p>Initializes parameters for each boat of the fleet. Positions are set to -1 and must be set before effectively placing the boat on the grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fleet_p</td><td>The fleet to set up. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00016">16</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1b8af32ddf685b7d0f7a339e77293182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sunk </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="game_8h.html#a517e5751ddff6ece28057a356558d2e6">grid</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether a boat has been sunk. </p>
<p>Looks up the character corresponding to a boat in <code>target</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Id character of the boat to look for. </td></tr>
    <tr><td class="paramname">target</td><td>Grid to search the boat </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the boat is sunk, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00359">359</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4052aea4f164e074aaf668b8017828fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcoord.html">coord</a> wait_fire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for the other player to fire. </p>
<p>Actually, this function waits for a <code>FIRE</code> request. </p>
<dl class="section return"><dt>Returns</dt><dd>The coordinate of the opponent's shot. </dd></dl>

<p>Definition at line <a class="el" href="game_8c_source.html#l00236">236</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_db3a54907829b36871118d03417739cd.html">client</a></li><li class="navelem"><a class="el" href="game_8c.html">game.c</a></li>
    <li class="footer">Generated on Fri Jan 30 2015 11:42:55 for Battleships by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
